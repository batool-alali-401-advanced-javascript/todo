(this["webpackJsonpdemo-context-api"]=this["webpackJsonpdemo-context-api"]||[]).push([[0],{44:function(e,t,a){},49:function(e,t,a){e.exports=a(76)},57:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),c=a(13),l=a(12),o=a(0),u=a.n(o),i=a(16),m=a.n(i),s=a(6),p=a(22),f=a(32),d=function(e){var t=Object(o.useState)({}),a=Object(s.a)(t,2),n=a[0],r=a[1];return[n,function(e){r(Object(f.a)(Object(f.a)({},n),{},Object(p.a)({},e.target.name,e.target.value)))},function(t){t.preventDefault(),e(n)}]},h=a(15),g=a(7);var E=function(e){var t=d((function(t){e.handleSubmit(t)})),a=Object(s.a)(t,3),n=(a[0],a[1]),r=a[2];return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,"Add Item"),u.a.createElement(g.a,{onSubmit:r},u.a.createElement(g.a.Group,null,u.a.createElement(g.a.Label,null,"To Do Item",u.a.createElement(g.a.Control,{type:"text",name:"text",placeholder:"Item",onChange:n}))),u.a.createElement(g.a.Group,{controlId:"formBasicRangeCustom"},u.a.createElement(g.a.Control,{type:"range",custom:!0,defaultValue:"1",min:"1",max:"5",name:"difficulty",onChange:n})),u.a.createElement(g.a.Group,null,u.a.createElement(g.a.Label,null,"Assigned to",u.a.createElement(g.a.Control,{type:"text",placeholder:"Assignee name",name:"assignee",onChange:n}))),u.a.createElement(g.a.Group,null,u.a.createElement(h.a,{type:"submit"},"Add Item"))))},v=(a(57),u.a.createContext()),b=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).changeStatus=function(){r.setState({status:"show"===r.state.status?"hide":"show"})},r.state={status:"show",toggleStatus:r.changeStatus},r}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement(v.Provider,{value:this.state},this.props.children)}}]),a}(u.a.Component),j=u.a.createContext();var O=function(e){var t=Object(o.useState)(1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(3),l=Object(s.a)(c,2),i=l[0],m=l[1],p=n*i,f=p-i,d=e.list.sort((function(e,t){return e.difficulty>t.difficulty?1:-1})).slice(f,p),h={currentPage:n,itemPerPage:i,setCurrentPage:r,setItemPerPage:m,currentItem:d,paginate:function(e){return r(e)},setItem:function(e){return m(e)}};return u.a.createElement(j.Provider,{value:h},e.children)};var C=function(e){var t=Object(o.useContext)(v),a=Object(o.useContext)(j);return console.log(a.currentItem),a.currentItem?u.a.createElement("ul",null,a.currentItem.map((function(a){return u.a.createElement("li",{className:"complete-".concat(a.complete.toString()," complete-").concat(a.complete.toString(),"-").concat(t.status," "),key:a._id},u.a.createElement("span",{onClick:function(){return e.handleComplete(a._id)}},u.a.createElement("div",null,a.complete.toString()," ",a.assignee),a.text," difficulty: ",a.difficulty),u.a.createElement(h.a,{variant:"danger",className:"delete",onClick:function(){return e.handleDelete(a._id)}},"X"))}))):null},y=a(48),k=a(19),x=a.n(k),S="https://todo-app-server-lab32.herokuapp.com/api/v1/todo",N=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=function(){x.a.get(S).then((function(e){return n(e.data)}))};return Object(o.useEffect)(r,[]),[a,function(e){e.due=new Date,console.log(e),x()({url:S,method:"post",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).then((function(e){n([].concat(Object(y.a)(a),[e.data]))})).catch(console.error)},function(e){var t=a.filter((function(t){return t._id===e}))[0]||{};if(t._id){t.complete=!t.complete;var r="".concat(S,"/").concat(e);x()({method:"put",url:r,mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)}).then((function(e){n(a.map((function(a){return a._id===t._id?e.data:a})))})).catch(console.error)}},r,function(e){var t=a.filter((function(t){return t._id===e}))[0]||{};if(console.log("itemmm",t),t._id){var r="".concat(S,"/").concat(e);x()({url:r,method:"delete",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(){var e=a.filter((function(e){return e._id!=t._id}));console.log("aaaaaaa",e),n(e)})).catch(console.error)}}]},P=a(33),I=a(29),_=(a(44),function(e){for(var t=e.totalitems,a=[],n=Object(o.useContext)(j),r=1;r<=Math.ceil(t/n.itemPerPage);r++)a.push(r);return console.log("fff",n),u.a.createElement("nav",null,u.a.createElement("ul",{className:"pagination"},a.map((function(e){return u.a.createElement("li",{key:e,className:"page-item"},u.a.createElement("a",{onClick:function(){return n.paginate(e)},className:"page-link"},e))}))),u.a.createElement("ul",{className:"pagination"},u.a.createElement("li",{className:"page-item"},u.a.createElement("a",{onClick:a.length!=n.currentPage?function(){return n.paginate(n.currentPage++)}:function(){return n.paginate(n.currentPage)},className:"page-link"},"Next")),u.a.createElement("li",{className:"page-item"},u.a.createElement("a",{onClick:n.currentPage>1?function(){return n.paginate(n.currentPage--)}:function(){return n.paginate(n.currentPage)},className:"page-link"},"Previous"))))}),w=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{variant:"primary",size:"lg",onClick:this.context.toggleStatus,className:"hideShow"},"show"===this.context.status?"hide":"show"," complete items")," ")}}]),a}(u.a.Component);w.contextType=v;var T=w;var D=function(){var e=Object(o.useContext)(j);return u.a.createElement(u.a.Fragment,null,u.a.createElement("select",{onChange:function(t){e.setItem(t.target.value)}},u.a.createElement("option",null,"items per page"),u.a.createElement("option",{value:"2"},"2"),u.a.createElement("option",{value:"4"},"4"),u.a.createElement("option",{value:"6"},"6")))},A=function(){var e=N(),t=Object(s.a)(e,5),a=t[0],n=t[1],r=t[2],c=(t[3],t[4]);return u.a.createElement("main",null,u.a.createElement("header",null,u.a.createElement(I.a,{bg:"primary",variant:"dark"},u.a.createElement(P.a,{className:"mr-auto"},u.a.createElement(P.a.Link,{href:"#home"},"Home"))),u.a.createElement(I.a,{bg:"dark",variant:"dark"},u.a.createElement(I.a.Brand,{href:"#home"}," There are ",a.filter((function(e){return!e.complete})).length," Items To Complete"))),u.a.createElement("section",{className:"todo"},u.a.createElement("div",null,u.a.createElement(E,{handleSubmit:n})),u.a.createElement(O,{list:a},u.a.createElement("div",{className:"list"},u.a.createElement(b,{list:a},u.a.createElement(T,null),u.a.createElement(D,null),u.a.createElement(C,{handleComplete:r,handleDelete:c})),u.a.createElement(_,{totalitems:a.length})))))},F=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(A,null))}}]),a}(u.a.Component),G=(a(75),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement(F,null)}}]),a}(u.a.Component)),J=document.getElementById("root");m.a.render(u.a.createElement(G,null),J)}},[[49,1,2]]]);
//# sourceMappingURL=main.fb8660c9.chunk.js.map